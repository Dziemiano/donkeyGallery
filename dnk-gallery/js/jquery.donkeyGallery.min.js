/*!
 *  donkeyGallery - [v1.0.0]
 *  asynchronous ajax/php dynamic gallery
 *  http://factory.brainleaf.eu/donkeyGallery/
 */
!function(a){function b(b,e){this.element=b,this.settings=a.extend({},d,e),this._defaults=d,this._name=c,this.init()}var c="donkeyGallery",d={webservice:"dnk-gallery/php/gallery.webservice.php",galleryPath:"dnk-gallery/images/",subdomain:"",style:"default",color:"default",thumbs:{thumbW:150,thumbH:150,thumbsGen:!1},fancybox:{active:!0,galleryGroup:"donkeyGallery",linkClass:"dnk-gallery-link"},pagination:{active:!0,pageItems:4}};b.prototype={init:function(){console.log("jquery.donkeyGallery.js initialized for #"+this.element.id),this.donkeyGall(this.element,this.settings)},donkeyGall:function(b,c){a(b).addClass("dnk-gallery-loader");var d={};d.thumbw=c.thumbs.thumbW,d.thumbh=c.thumbs.thumbH,d.thumbsgen=c.thumbs.thumbsGen,d.gallerypath=c.galleryPath,d.elementid=b.id,d.subdomain=c.subdomain,a.ajax({url:c.webservice,type:"post",data:d,dataType:"json",success:function(d){var e='<div class="dnk-gallery">';switch(e+='<ul class="dnk-gallery-list">',c.fancybox.active){case!1:for(var f=Object.keys(d.jsonNoFancy).length,g=0;f>g;g++)e+="<li>"+d.jsonNoFancy[g]+"</li>";break;case!0:for(var f=Object.keys(d.jsonFancy).length,g=0;f>g;g++)e+="<li>"+d.jsonFancy[g]+"</li>"}e+="</ul>",e+="</div>",a(b).html(e),"default"!=c.style&&(a(b).find("ul").addClass(c.style),a(b).find("ul").addClass(c.color)),a(b).find("a").addClass(c.fancybox.linkClass),a(b).find("a").attr("rel",c.fancybox.galleryGroup),a(b).find("a").fancybox(),1==c.pagination.active&&(a(b).find("ul").easyPaginate({step:c.pagination.pageItems,controls:"pagination-"+b.id,current:"active"}),"default"!=c.style&&(a(b).find("ul").next("ol").addClass(c.style),a(b).find("ul").next("ol").addClass(c.color))),setTimeout(function(){a(b).removeClass("dnk-gallery-loader"),a(b).find(".dnk-gallery").fadeIn()},1e3)},error:function(){console.log("ajax error")}})}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);